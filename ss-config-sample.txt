#!/bin/bash

####################################################################################################
#### author: SlickStack ############################################################################
#### link: https://slickstack.io ###################################################################
#### mirror: http://mirrors.slickstack.io/ss-config-sample.txt #####################################
#### path: /var/www/ss-config-sample ###############################################################
#### destination: /var/www/ss-config (manual configuration is required) ############################
#### purpose: SlickStack configuration file (must be configured before running ss-install) #########
#### module version: Ubuntu 18.04 ##################################################################
####################################################################################################

## AFTER MAKING ANY CHANGES TO SS-CONFIG YOU MUST RUN SS-INSTALL AGAIN ##

####################################################################################################
#### SlickStack: SS-Config Build Version (Used By SS-Install To Verify Compatibility) ##############
####################################################################################################

## rebuild ss-config if outdated errors: http://mirrors.slickstack.io/ss-config-sample.txt ##
## copy and paste entire ss-config boilerplate before modifying variables ##

SS_BUILD="SEP2019C"

####################################################################################################
#### Ubuntu: Root + Sudo User Settings (Console + SSH Access) ######################################
####################################################################################################

## write down your sudo password or you will be locked out of your server forever ##
## after ss-install completes the root user will have no shell access ##

ROOT_PASSWORD="password"
SUDO_USER="example"
SUDO_PASSWORD="password"
SSH_PORT="6969"

####################################################################################################
#### Ubuntu: Jailed User Settings (SFTP Access Only = For Your Client, Etc) ########################
####################################################################################################

## SFTP user is jailed to the /var/www/ directory e.g. for your client to safely access ##
## you can also use the SFTP user for remote backups (safer than sudo user) ##

SFTP_USER="example"
SFTP_PASSWORD="password"

####################################################################################################
#### MySQL: Database Settings (Single Database Only) ###############################################
####################################################################################################

## USING A REMOTE DATABASE IS CURRENTLY UNTESTED, USE AT YOUR OWN RISK (REPORT ISSUES) ##
## FOR SECURITY REASONS CHOOSE A UNIQUE PASSWORD FOR THE MYSQL ROOT USER ##

DB_NAME="wordpress"
DB_USER="example"
DB_PASSWORD="password"
DB_PASSWORD_ROOT="password"
DB_HOST="localhost"
DB_PREFIX="wp_"
DB_CHARSET="utf8mb4"
DB_COLLATE=""

####################################################################################################
#### Nginx + WordPress: Domain Settings (Subdirectories Not Supported) #############################
####################################################################################################

## SITE_TLD = [example.com] without prefixes ##
## SITE_DOMAIN = [example.com|www.example.com|subdomain.example.com] without suffixes ##

SITE_TLD="example.com"
SITE_DOMAIN="www.example.com"

####################################################################################################
#### Nginx: FastCGI Cache Settings (Highly Recommended) ############################################
####################################################################################################

## FCGI_CACHE = [true|false] recommended for nearly every website ##
## FCGI_CACHE_VALID = [60m|1440m|etc] longer is better (but dynamic sites need less) ##
## FCGI_CACHE_INACTIVE = [60m|1440m|etc] longer is better (but dynamic sites need less) ##
## FCGI_CACHE_MEMORY = [64m|128m|256m|512m|etc] for 512M|1GB|2GB|4GB RAM VPS ##
## FCGI_CACHE_MAX_SIZE = [2048m|4096m|8192m|16384m|etc] allocate space on disk ##
## FCGI_CACHE_TMPFS = [false|true] mount as TMPFS (not recommended) ##

FCGI_CACHE="true"
FCGI_CACHE_VALID="60m"
FCGI_CACHE_INACTIVE="60m"
FCGI_CACHE_MEMORY="256m"
FCGI_CACHE_MAX_SIZE="4096m"
FCGI_CACHE_TMPFS="false"

####################################################################################################
#### OpenSSL + Let's Encrypt: SSL Certificate Settings (CSR Details Optional) ######################
####################################################################################################

## SSL_TYPE = [openssl|certbot] only openssl currently supported ##
## SSL_EMAIL = [user@example.com] not yet supported (maybe used in future for Certbot) ##

SSL_TYPE="openssl"
SSL_EMAIL="user@example.com"
SSL_COUNTRY="US"
SSL_STATE="Nevada"
SSL_CITY="Las Vegas"
SSL_COMPANY="Example, LLC"
SSL_DEPT="Marketing"

####################################################################################################
#### MySQL: Various Settings #######################################################################
####################################################################################################

## MYSQL_MODE = e.g. ALLOW_INVALID_DATES (or) ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION 

MYSQL_MODE="STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"

####################################################################################################
#### CloudFlare (MU Plugin): Various Settings ######################################################
####################################################################################################

CLOUDFLARE_API_KEY="123456789"
CLOUDFLARE_API_EMAIL="user@example.com"
CLOUDFLARE_RECOMMENDED_SETTINGS="true" ## not yet supported
CLOUDFLARE_WIDGET_DNS="true"
CLOUDFLARE_WIDGET_ANALYTICS="true" ## not yet supported

####################################################################################################
#### Object Cache (Drop-In Plugin): Various Settings ###############################################
####################################################################################################

OBJECT_CACHE="true" ## not yet supported to disable

####################################################################################################
#### SlickStack: General Settings ##################################################################
####################################################################################################

## SS_APP = [wordpress] currently only WordPress is supported ##
## SS_MUPLUGINS = [true|false] installs MU plugins (recommended) ##
## SS_TYPE = [production|staging] enables debug, disables FastCGI Cache, enables CloudFlare dev mode on non-production servers ##
## SS_REBOOT = [false|true] server reboots after ss-update runs ##
## SS_TIMEZONE = [utc] almost nobody should change this... currently not supported to change ##

SS_APP="wordpress"
SS_TYPE="production"
SS_MUPLUGINS="true"
SS_DOS2UNIX="true"
SS_REBOOT="false"
SS_TIMEZONE="UTC"

####################################################################################################
#### SlickStack: Cron Job Schedules (Interval Settings) ############################################
####################################################################################################

## !!! ADVANCED USERS ONLY... MODIFYING THESE INTERVALS COULD AFFECT SERVER STABILITY ##
## DISABLE ANY GIVEN CRON JOB BY SETTING INTERVAL TO RANDOM STRING E.G. NEVER ##

## SS_INTERVAL_CHECK = [often|regular|hourly] ##
## SS_INTERVAL_WORKER = [regular|hourly|quarter-daily] ##
## SS_INTERVAL_DUMP = [often|regular|hourly|quarter-daily|half-daily|daily] ##
## SS_INTERVAL_PERMS = [hourly|quarter-daily|half-daily|daily] ##
## SS_INTERVAL_CLEAN = [hourly|quarter-daily|half-daily|daily|weekly] ##
## SS_INTERVAL_MUPLUGS = [daily|weekly] ##
## SS_INTERVAL_SCAN = [daily|weekly] ##
## SS_INTERVAL_ENCRYPT = [weekly|monthly] ##
## SS_INTERVAL_UPDATE = [monthly|sometimes] ##

SS_INTERVAL_CHECK="often"
SS_INTERVAL_WORKER="regular"
SS_INTERVAL_DUMP="hourly"
SS_INTERVAL_PERMS="quarter-daily"
SS_INTERVAL_CLEAN="half-daily"
SS_INTERVAL_MUPLUGS="daily"
SS_INTERVAL_SCAN="weekly"
SS_INTERVAL_ENCRYPT="never"
SS_INTERVAL_UPDATE="never"

####################################################################################################
#### SlickStack: Custom Configuration Sources ######################################################
####################################################################################################

## !!! ADVANCED USERS ONLY... MODIFYING THESE SOURCES COULD AFFECT SERVER STABILITY ##

PLUGIN_BLACKLIST_SOURCE="http://mirrors.slickstack.io/wordpress/blacklist.txt"
WP_CONFIG_SOURCE="http://mirrors.slickstack.io/wordpress/wp-config.txt"

# SS_SOURCE_PLUGIN_BLACKLIST="http://mirrors.slickstack.io/wordpress/blacklist.txt"
# SS_SOURCE_WP_CONFIG="http://mirrors.slickstack.io/wordpress/wp-config.txt"

####################################################################################################
#### Must Use (MU) Plugins: Enable Or Disable + Custom Plugins #####################################
####################################################################################################

# MUPLUGS_CLOUDFLARE="true"
# MUPLUGS_CLEAR_CACHES="true"
# MUPLUGS_CUSTOM_FUNCTIONS="true"

# MUPLUGS_CUSTOM_1_SOURCE="example.com/asdf.zip"
# MUPLUGS_CUSTOM_1_DIR="asdf"
# etc

####################################################################################################
#### Superuser (MU Plugin): Various Settings #######################################################
####################################################################################################

# SUPERUSER_LOGIN
# SUPERUSER_PASSWORD
# SUPERUSER_EMAIL
# SUPERUSER_NICENAME

####################################################################################################
#### Email API Settings (SendGrid, Mailgun, Etc) ###################################################
####################################################################################################

# MAIL_API_KEY="123456789"
### MAIL_SERVICE="sendgrid"
# MAIL_SMTP_SERVER="smtp.sendgrid.net"
# MAIL_PORT="587"
# mailalert="user@example.com"
# MAIL_USER="example"
# MAIL_PASSWORD="password"
